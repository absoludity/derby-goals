<Title:>
  Open Goal Tracker: { _goal.title }

<Header:>
  <ui:connectionAlert>

<Body:>
  <section>
    <h1 contenteditable>{unescaped _goal.title}</h1>
    <div contenteditable>{unescaped _goal.description}</div>
    <input id=taskOnlyCheck checked={_goal.taskOnly} type=checkbox><label for=taskOnlyCheck>This goal is a simple short-term task.</label>
    {#unless _goal.taskOnly}
    <form x-bind=submit:addGoal>
        <div id=add>
          <input id=new-goal value={_newGoal} placeholder="I will play my guitare for 10mins each day" x-webkit-speech>
          <input type=submit value=Add>
        </div>
    </form>
    <ul id=goals>{#each _subgoalList}<app:subGoal>{/each}</ul>
  {/if}
  </section>

  <section>
    <app:goalDetails>
  </section>
  <section>
    <app:goalProgress>
  </section>


<subGoal:>
  <li>
    <a href="/goals/{{.id}}/">{unescaped .title}</a>
    <dl>
      <dt>Status:</dt><dd>{.status}</dd>
      <dt>Next review:</dt><dd>{.nextReview}</dd>

    </dl>

  </li>

<goalDetails:>
  <h2>Details</h2>
    <dl>
		<dt>Status:</dt>
		<dd>
			<select>
			{#each _statusChoices}
			<option selected="{equal(this, _goal.status)}">
			{{ this }}
			</option>
			{{/}}
			</select>
		</dd>
        <dt>Review every</dt>
        <dd>
            <select>
                {#each _reviewPeriods}
                <option selected="{equal(.numDays, _goal.reviewPeriod)}">
                    {{ .name }}
                </option>
                {/}
            </select>
        </dd>
        <dt>Next Review</dt>
        <dd>{_goal.nextReview}</dd>
    </dl>

<goalProgress:>
  <h2>Goal progress</h2>
